https://aceld.gitbooks.io/libevent/content/chapter1.html